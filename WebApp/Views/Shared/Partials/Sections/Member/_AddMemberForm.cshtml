@model AddMemberFormData

<div id="addMemberModal" class="modal">
    <div class="modal-content">

        <div class="modal-header">
            <h3>New Member</h3>
            <button type="button" class="btn-close" data-close="true"></button>
        </div>

        <form novalidate method="post" asp-action="AddMember" asp-controller="Admin" enctype="multipart/form-data">
            @Html.AntiForgeryToken()
            <div class="image-previewer  circle">
                <img src="" class="image-preview circle" />
                <input asp-for="Image" accept="image/*" class="hide" />
            </div>

            <div class="form-group">
                <label asp-for="FirstName"></label>
                <div class="field-group">
                    <input asp-for="FirstName" />
                    <span asp-validation-for="FirstName"></span>
                </div>
            
                <label asp-for="LastName"></label>
                <div class="field-group">
                    <input asp-for="LastName" />
                    <span asp-validation-for="LastName"></span>
                </div>
            </div>
            <div class="form-group">
                <label asp-for="Email"></label>
                <div class="field-group">
                    <input asp-for="Email" />
                    <span asp-validation-for="Email"></span>
                </div>
            </div>
            <div class="form-group">
                <label asp-for="Password"></label>
                <div class="field-group">
                    <input asp-for="Password" />
                    <span asp-validation-for="Password"></span>
                </div>
            </div>
            <div class="form-group">
                <label asp-for="PhoneNumber"></label>
                <div class="field-group">
                    <input asp-for="PhoneNumber" />
                    <span asp-validation-for="PhoneNumber"></span>
                </div>
            </div>
            <div class="field-group">
                <select class="user-select-auto" asp-for="Role" asp-items="ViewBag?.Roles" required>
                    <option disabled hidden selected value="">Select User Role</option>
                   @*  <option value="Admin">Admin</option>
                    <option value="User">User</option> *@
                </select>
                <span asp-validation-for="Role"></span>
            </div>
           @*  <div class="form-group">
                <div class="field-group">
                    <label asp-for="Role">Role</label>
                    <select id="Role" class="user-select-auto" asp-for="Role" asp-items="ViewBag?.Roles" required>
                        <option value="">-- Select User Role --</option>
                        @if (ViewBag.Roles != null)
                        {
                            foreach (var role in ViewBag?.Roles!)
                            {
                                <option value="@role">@role</option>
                            }
                        }
                        else
                        {
                            <option value="">No roles available</option>
                        }

                    </select>
                </div>
            </div> *@
            <div class="form-group">
                <label asp-for="JobTitle"></label>
                <div class="field-group">
                    <input asp-for="JobTitle" />
                    <span asp-validation-for="JobTitle"></span>
                </div>
            </div>
            <div class="form-group">
                <label asp-for="Address"></label>
                <div class="field-group">
                    <input asp-for="Address" />
                    <span asp-validation-for="Address"></span>
                </div>
            </div>
            <div class="form-group">
                <label asp-for="DateOfBirth"></label>
                <div class="field-group">
                    <input asp-for="DateOfBirth" />
                    <span asp-validation-for="DateOfBirth"></span>
                </div>
            </div>

            <button type="submit" class="btn btn-submit btn-blue">Add Contact</button>
        </form>

    </div>

</div>

@* <script>
    $("#add-member-form").submit(function (e) {
        e.preventDefault();
        var formData = new FormData(this);
        $.ajax({
            url: '/Users/addMember',
            type: 'POST',
            data: formData,
            processData: false,
            contentType: false,
            success: function (result) {
                if (result.succeeded) {
                    alert("Member added successfully!");
                    location.reload(); // Eller uppdatera listan utan reload
                } else {
                    alert("Error: " + result.error);
                }
            }
        });
    });
</script> *@